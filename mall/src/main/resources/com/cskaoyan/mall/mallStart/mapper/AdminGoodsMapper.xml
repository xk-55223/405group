<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cskaoyan.mall.mallStart.mapper.AdminGoodsMapper">
    <resultMap id="goodsMap" type="com.cskaoyan.mall.mallStart.bean.Goods">
        <result column="id" property="id"/>
        <result column="goods_sn" property="goodsSn"/>
        <result column="name" property="name"/>
        <result column="category_id" property="categoryId"/>
        <result column="brand_id" property="brandId"/>
        <result column="galley" property="galley"/>
        <result column="keywords" property="keywords"/>
        <result column="brief" property="brief"/>
        <result column="is_on_sale" property="isOnSale"/>
        <result column="sort_order" property="sortOrder"/>
        <result column="pic_url" property="picUrl"/>
        <result column="share_url" property="shareUrl"/>
        <result column="is_new" property="isNew"/>
        <result column="is_hot" property="isHot"/>
        <result column="unit" property="unit"/>
        <result column="counter_price" property="counterPrice"/>
        <result column="retail_price" property="retailPrice"/>
        <result column="detail" property="detail"/>
        <result column="add_time" property="addTime"/>
        <result column="update_time" property="updateTime"/>
        <result column="deleted" property="deleted"/>
    </resultMap>
    <sql id="goods_column_list">
        id, goods_sn, name, category_id, brand_id, gallery, keywords, brief, is_on_sale, sort_order,
          pic_url, share_url, is_new, is_hot, unit, counter_price, retail_price, detail, add_time,
          update_time, deleted
    </sql>
    <select id="listGoods" resultMap="goodsMap">
        select <include refid="goods_column_list"/> from cskaoyan_mall_goods
        <where>
            <if test="name != null">
                and name like '%' #{name} '%'
            </if>
            <if test="goodsSn != null">
                and goods_Sn = #{goodsSn}
            </if>
        </where>
    </select>
</mapper>
